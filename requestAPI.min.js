const Api={},BaseUrl=location.origin;window.BaseUrl=BaseUrl;const ApiUrl=`${BaseUrl}/api`;Api.get=function(e,t){return t||(t={}),t.method="GET",this._makeRequest(e,t)},Api.post=function(e,t){try{return t||(t={}),t.method="POST",this._makeRequest(e,t)}catch(r){console.error(r)}},Api.patch=function(e,t){try{return t||(t={}),t.method="PATCH",this._makeRequest(e,t)}catch(r){console.error(r)}},Api.delete=function(e,t){try{return t||(t={}),t.method="DELETE",this._makeRequest(e,t)}catch(r){console.error(r)}};const protectedMethods=["post","patch","delete","put"];Api._makeRequest=async function(e,t){let r=e.substr(0,1);t.credentials="include",t.headers||(t.headers={}),t.body&&"string"!=typeof t.body&&(t.body=JSON.stringify(t.body),t.headers["Content-Type"]="application/json"),e="/"===r?`${ApiUrl}${e}`:`/${e}`;let i=await fetch(e,t);return await i.json()},window.Api=Api;
